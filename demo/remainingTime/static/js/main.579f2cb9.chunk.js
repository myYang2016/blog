(window.webpackJsonpcountdown=window.webpackJsonpcountdown||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a(17)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(7),o=a.n(s),c=(a(13),a(1)),r=a(2),h=a(4),l=a(3),u=a(5),d=(a(14),a(15),function(t){function e(t){var a;Object(c.a)(this,e),a=Object(h.a)(this,Object(l.a)(e).call(this,t));var n=document.documentElement.clientHeight,i=document.documentElement.clientWidth,s=n>i?i:n,o=a.getResidueTime(),r=.8*s,u=.08*s;return a.state={t:o,timeSize:r,dotSize:u,dotL:(r-u)/2,dotT:-u/2,ctx:null,lineWidth:5},a}return Object(u.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval(function(){t.tick()},1e3),this.initCanvas()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){var t=this.getResidueTime();this.setState({t:t})}},{key:"getResidueTime",value:function(){var t,e,a=new Date,n=a.getFullYear(),i=a.getMonth()+1,s=a.getDate(),o=(this.props||{}).type,c=void 0===o?"today":o,r=a;if("today"===c){var h=new Date("".concat(n,"/").concat(i,"/").concat(s)).getTime(),l=new Date(h+864e5).getTime();r=Math.floor((l-a.getTime())/1e3),e=(l-a.getTime())/864e5}else if("thisYear"===c||"live"===c){var u=(this.props||{}).liveYear,d=new Date("".concat(n+("thisYear"===c?1:void 0===u?50:u),"/1/1")).getTime(),m=d-a.getTime();e=m/(d-new Date("".concat(n,"/1/1")).getTime()),t=Math.floor(m/864e5),r=Math.floor(m%864e5/1e3)}var v=Math.floor(r/60/60),p=Math.floor((r-60*v*60)/60),y=Math.floor(r-60*v*60-60*p),f=function(t){return 1===String(t).length?"0".concat(t):t},g="".concat(f(v),":").concat(f(p),":").concat(f(y)),T=-Math.PI/2,w=2*Math.PI*(1-e),M=w+T;return this.clearCanvas(),this.drawArc({start:T,end:M,color:"#aaa"}),this.drawArc({start:M,end:T}),this.setDotPort(w),"today"===c?g:"".concat(t,"\u5929 ").concat(g)}},{key:"initCanvas",value:function(){var t=this,e=document.getElementById("timeCanvas").getContext("2d");this.setState({ctx:e}),setTimeout(function(){t.drawArc()})}},{key:"drawArc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,a=void 0===e?0:e,n=t.end,i=void 0===n?2*Math.PI:n,s=t.color,o=void 0===s?"#ea9999":s;if(this.state){var c=this.state.timeSize/2,r=this.state.ctx;r.lineWidth=this.state.lineWidth,r.strokeStyle=o,r.beginPath(),r.arc(c,c,c-this.state.lineWidth,a,i),r.stroke()}}},{key:"clearCanvas",value:function(){if(this.state){var t=document.getElementById("timeCanvas"),e=this.state.ctx;t.width=this.state.timeSize,e.lineWidth=this.state.lineWidth}}},{key:"setDotPort",value:function(t){if(this.state){var e,a,n=this.state.timeSize/2,i=this.state.dotSize/2;t<Math.PI/2?(e=Math.sin(t)*n,a=Math.cos(t)*n):t>Math.PI/2&&t<Math.PI?(t-=Math.PI/2,e=Math.cos(t)*n,a=-Math.sin(t)*n):t>Math.PI&&t<3*Math.PI/2?(t-=Math.PI,e=-Math.sin(t)*n,a=-Math.cos(t)*n):(t-=3*Math.PI/2,e=-Math.cos(t)*n,a=Math.sin(t)*n),this.setState({dotL:e+n-i,dotT:n-a-i})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"timeProgress",style:{width:"".concat(this.state.timeSize,"px"),height:"".concat(this.state.timeSize,"px")}},i.a.createElement("div",{className:"timeProgress-time"},this.state.t),i.a.createElement("canvas",{className:"timeProgress-canvas",id:"timeCanvas",width:this.state.timeSize,height:this.state.timeSize}),i.a.createElement("div",{className:"timeProgress-dot",style:{width:"".concat(this.state.dotSize,"px"),height:"".concat(this.state.dotSize,"px"),left:"".concat(this.state.dotL,"px"),top:"".concat(this.state.dotT,"px")}}))}}]),e}(i.a.Component)),m=(a(16),function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"selectType"},i.a.createElement("div",{className:"timeType_out"},i.a.createElement("select",{onChange:this.handleSlecteType.bind(this),className:"timeType"},Object.keys(this.props.showType).map(function(e){return i.a.createElement("option",{className:"timeType-option",key:e,value:e},"\u4eca",t.props.showType[e],"\u5269\u4f59\u65f6\u95f4")}))))}},{key:"handleSlecteType",value:function(t){var e=t.target;if(e){var a=e.selectedIndex;this.props.changeType&&this.props.changeType(e.options[a].value)}}}]),e}(i.a.Component)),v={today:"\u65e5",thisYear:"\u5e74",live:"\u751f"},p=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(h.a)(this,Object(l.a)(e).call(this,t))).state={currentType:"today"},a}return Object(u.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m,{showType:v,changeType:this.changeType.bind(this)}),i.a.createElement(d,{type:this.state.currentType,showType:v}))}},{key:"changeType",value:function(t){this.setState({currentType:t})}}]),e}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.579f2cb9.chunk.js.map